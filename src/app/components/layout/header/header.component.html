<!-- Header -->
<header class="h-16 bg-background text-text border-b border-border flex items-center justify-between px-4 shadow-sm">
  <!-- Left: Collapse toggle -->
  <div (click)="viewStore.toggleCollapsed()" class="text-3xl text-primary cursor-pointer hover:opacity-80">
    @if (!expanded) {
      <ng-icon name="bootstrapList" class="w-full h-full block" />
    }
    @if (expanded) {
      <ng-icon name="bootstrapTextIndentRight" class="w-full h-full block" />
    }
  </div>

  <!-- Right: Profile with dropdown -->
  <div class="relative">
    <img
      [src]="user?.picture"
      [alt]="user?.name"
      (click)="toggleMenu()"
      class="h-10 w-10 rounded-full object-cover border border-border cursor-pointer hover:opacity-80"
      />

    <!-- Dropdown menu -->
    @if (showMenu) {
      <div
        class="absolute right-0 mt-2 w-48 bg-white text-black border border-border rounded shadow-md z-50"
        >
        <div class="px-4 py-2 text-sm border-b border-border cursor-default">
          <div class="font-medium text-base">{{ user?.name }}</div>
          <div class="text-xs text-muted truncate">{{ user?.email }}</div>
        </div>
        <div (click)="openProfileSettings()" class="px-4 py-2 hover:bg-gray-100 cursor-pointer text-sm">
          My Profile
        </div>
        <div (click)="logout()" class="px-4 py-2 hover:bg-gray-100 cursor-pointer text-sm text-danger">
          Logout
        </div>
      </div>
    }
  </div>
</header>
