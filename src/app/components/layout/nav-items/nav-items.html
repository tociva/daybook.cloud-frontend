<nav class="flex-1 mb-10">
  @for (menu of menus(); track menu.path) {
    <!-- If menu has no children -->
    @if (!menu.children?.length) {
      <a
        [routerLink]="menu.path"
        class="flex items-center gap-2 px-4 py-2 hover:bg-primary-hover cursor-pointer"
      >
        <ng-icon [name]="findIcon(menu.name)"></ng-icon>
        {{ menu.name }}
      </a>
    }
    <!-- If menu has children -->
    @else {
      <div>
        <!-- Parent row -->
<div
(click)="toggle(menu.path)"
class="flex items-center gap-2 px-4 py-2 font-semibold hover:bg-primary-hover cursor-pointer select-none"
>
<ng-icon [name]="findIcon(menu.name)"></ng-icon>
{{ menu.name }}
<ng-icon
  name="bootstrapChevronDown"
  class="ml-auto transition-transform duration-200"
  [class.rotate-180]="isOpen(menu.path)"
></ng-icon>
</div>

<!-- Collapsible children (Tailwind-only) -->
<div
class="overflow-hidden transition-all duration-200"
[ngClass]="[
  isOpen(menu.path) ? 'max-h-[800px]' : 'max-h-0'
]"
>
@for (child of (menu.children ?? []); track child.path) {
  <a
    [routerLink]="[menu.path, child.path]"
    class="flex items-center gap-2 px-8 py-2 hover:bg-primary-hover"
  >
    <ng-icon [name]="findIcon(child.name)"></ng-icon>
    {{ child.name }}
  </a>
}
</div>

      </div>
    }
  }
</nav>
